(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{153:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return p}));var r=n(2),o=n(9),a=(n(0),n(203)),i={id:"provision-sensor",title:"Provision an OpenEEW sensor",sidebar_label:"Provision a sensor"},s={id:"provision-sensor",title:"Provision an OpenEEW sensor",description:"\ud83d\udc49\ud83c\udffc Please also refer to the accompanying Github Repository.",source:"@site/docs/provision-sensor.md",permalink:"/docs/provision-sensor",editUrl:"https://github.com/openeew/openeew-docs/edit/master/docs/provision-sensor.md",sidebar_label:"Provision a sensor",sidebar:"someSidebar",previous:{title:"Install an OpenEEW sensor",permalink:"/docs/install-sensor"},next:{title:"Deploy an earthquake detection system",permalink:"/docs/deploy-detection-docker"}},l=[{value:"Quickstart",id:"quickstart",children:[]},{value:"Install custom firmware",id:"install-custom-firmware",children:[{value:"Install PlatformIO",id:"install-platformio",children:[]},{value:"Open project",id:"open-project",children:[]},{value:"Flash your sensor",id:"flash-your-sensor",children:[]}]}],c={rightToc:l};function p(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"\ud83d\udc49\ud83c\udffc Please also refer to the accompanying ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/openeew/openeew-sensor"}),"Github Repository"),"."),Object(a.b)("p",null,"Once you have an OpenEEW sensor is ready and fixed to a rigid building element, its time to connect it and get started!"),Object(a.b)("h2",{id:"quickstart"},"Quickstart"),Object(a.b)("p",null,"Connect your sensor by ethernet to nearby router, or in the case of Wifi use any ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.espressif.com/en/products/software/esp-touch/overview"}),"ESP-Touch")," app to pass your wifi credentials to the device. An example is the free Grillo app (",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://apps.apple.com/ec/app/grillo/id1478536152"}),"iOS"),", ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://play.google.com/store/apps/details?id=com.grilloplus.iot_esptouch_demo&hl=es_MX"}),"Android"),")."),Object(a.b)("p",null,"You're all set."),Object(a.b)("h2",{id:"install-custom-firmware"},"Install custom firmware"),Object(a.b)("p",null,"If you wish to install your own firmware, please follow these steps:"),Object(a.b)("h3",{id:"install-platformio"},"Install PlatformIO"),Object(a.b)("p",null,"Follow this guide to ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://docs.platformio.org/en/latest/integration/ide/vscode.html#installation"}),"install PlatformIO")," on your machine. PlaformIO offers several benefits to the Arduino IDE, particularly the ability to contain dependencies within a simple folder structure."),Object(a.b)("h3",{id:"open-project"},"Open project"),Object(a.b)("p",null,"Inside VSCode go to PlaformIO home, which is available on the bottom toolbar, and select ",Object(a.b)("inlineCode",{parentName:"p"},"Projects"),", then ",Object(a.b)("inlineCode",{parentName:"p"},"Open Project"),". Navigate to the root folder where you cloned this repository and open."),Object(a.b)("h3",{id:"flash-your-sensor"},"Flash your sensor"),Object(a.b)("p",null,"Build the project using the check mark on the bottom toolbar, then uplaod using the arrow button adjacent to it. The IDE should automatically detect the board of your connnected sensor and start to write the new firmware."),Object(a.b)("p",null,"If you are using a secure MQTT connection, you can add the certificates and other contents of the ",Object(a.b)("inlineCode",{parentName:"p"},"data")," folder to the SPIFFS memory, you need to\nopen tasks in the PlaformIO menubar on the left, and select ",Object(a.b)("inlineCode",{parentName:"p"},"Upload File System image"),":\n",Object(a.b)("img",Object(r.a)({parentName:"p"},{src:"/docs/platformio-spiffs.png",alt:null}))))}p.isMDXComponent=!0},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=o.a.createContext({}),p=function(e){var t=o.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=p(e.components);return o.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),b=r,f=u["".concat(i,".").concat(b)]||u[b]||d[b]||a;return n?o.a.createElement(f,s(s({ref:t},c),{},{components:n})):o.a.createElement(f,s({ref:t},c))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=b;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);